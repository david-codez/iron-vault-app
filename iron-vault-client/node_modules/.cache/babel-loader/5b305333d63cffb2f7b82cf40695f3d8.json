{"ast":null,"code":"var _jsxFileName = \"/Users/homebase/Documents/David Codez Repo/MERN-iron-vault/iron-vault-client/src/components/signup.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport NavBar from './Nav';\nimport { Container, Form, FormGroup, Label, Input, Button } from 'reactstrap';\nimport { toast } from 'react-toastify';\nimport { register, reset } from '../features/auth/authSlice';\nimport { useNavigate } from 'react-router-dom';\nimport { useAppDispatch } from '../app/hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SignUp() {\n  _s();\n\n  // const router = useRouter()\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const {\n    user,\n    isLoading,\n    isError,\n    isSuccess,\n    message\n  } = useSelector(state => state.auth);\n  const initialUser = {\n    username: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    password2: '',\n    admin: false\n  };\n  const [formValues, setFormValues] = useState(initialUser);\n  const {\n    username,\n    firstName,\n    lastName,\n    email,\n    password,\n    password2,\n    admin\n  } = formValues; //handling registration form submit\n\n  const onSubmit = e => {\n    // console.log(password, password2)\n    //stops page reload\n    e.preventDefault(); //check if passwords match\n\n    if (password !== password2) {\n      toast.error('Passwords do not match');\n    } else {\n      //creating user data object for registration\n      const userData = {\n        username: formValues.username,\n        firstName: formValues.firstName,\n        lastName: formValues.lastName,\n        email: formValues.email,\n        password: formValues.password,\n        admin: formValues.admin\n      };\n      console.log(userData); //calling register function from authSlice and passing in user \n\n      dispatch(register(userData));\n    }\n  };\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormValues({ ...formValues,\n      [name]: value\n    });\n  };\n\n  useEffect(() => {\n    if (isError) {\n      toast.error(message);\n    }\n\n    if (isSuccess || user) {\n      toast.success(\"User Created Successfully\");\n      navigate('/');\n    }\n\n    dispatch(reset());\n  }, [user, isError, isSuccess, message, dispatch, navigate]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Sign Up Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: onSubmit,\n        className: \"signup-form\",\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"username\",\n            children: \"Username:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"username\",\n            name: \"username\",\n            placeholder: \"Username\",\n            type: \"text\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"firstName\",\n            children: \"First Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"firstName\",\n            name: \"firstName\",\n            placeholder: \"First Name\",\n            type: \"text\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"lastName\",\n            children: \"Last Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"lastName\",\n            name: \"lastName\",\n            placeholder: \"Last Name\",\n            type: \"text\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"email\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            type: \"text\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"password1\",\n            children: \"Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            type: \"password\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"password2\",\n            children: \"Re-enter Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"password2\",\n            name: \"password2\",\n            placeholder: \"Re-enter Password\",\n            type: \"password\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          className: \"submit-button-div\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"submit-button\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SignUp, \"QnSgCzrEf0/faBgesmYe1KPf9eo=\", false, function () {\n  return [useAppDispatch, useNavigate, useSelector];\n});\n\n_c = SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["React","useState","useEffect","useSelector","NavBar","Container","Form","FormGroup","Label","Input","Button","toast","register","reset","useNavigate","useAppDispatch","SignUp","dispatch","navigate","user","isLoading","isError","isSuccess","message","state","auth","initialUser","username","firstName","lastName","email","password","password2","admin","formValues","setFormValues","onSubmit","e","preventDefault","error","userData","console","log","handleInputChange","name","value","target","success"],"sources":["/Users/homebase/Documents/David Codez Repo/MERN-iron-vault/iron-vault-client/src/components/signup.tsx"],"sourcesContent":["import React, { useState, useEffect } from  'react'\nimport {  useSelector } from 'react-redux'\nimport NavBar from './Nav'\nimport { Container, Form, FormGroup, Label, Input, FormText, Button  } from 'reactstrap'\nimport { toast } from 'react-toastify'\nimport { register, reset } from '../features/auth/authSlice'\nimport type { GymMember } from '../lib/User'\nimport { useNavigate } from 'react-router-dom'\nimport { useAppDispatch } from '../app/hooks'\n\nexport default function SignUp() {\n    // const router = useRouter()\n    const dispatch = useAppDispatch()\n    const navigate = useNavigate()\n    const { user, isLoading, isError, isSuccess, message } = useSelector((state: any) => state.auth)\n\n    \n    const initialUser = {\n        username: '',\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        password2: '',\n        admin: false,\n    }\n\n\n    const [formValues, setFormValues] = useState(initialUser)\n\n    const { username, firstName, lastName, email, password, password2, admin } = formValues\n\n\n\n    //handling registration form submit\n    const onSubmit = (e: any) => {\n        // console.log(password, password2)\n        //stops page reload\n        e.preventDefault()\n        //check if passwords match\n        if(password !== password2) {\n            toast.error('Passwords do not match')\n        } else {\n            //creating user data object for registration\n            const userData: GymMember = {\n                username: formValues.username,\n                firstName: formValues.firstName,\n                lastName: formValues.lastName, \n                email: formValues.email, \n                password: formValues.password,\n                admin: formValues.admin,\n            }\n            console.log(userData)\n            //calling register function from authSlice and passing in user \n            dispatch(register(userData))\n        } \n    }\n\n\n\n\n    const handleInputChange = (e: any) => {\n        const {name, value} = e.target;\n        setFormValues({\n            ...formValues,\n            [name]: value,\n        });\n    };\n\n\n\n\n    useEffect(() => {\n        if(isError) {\n            toast.error(message)\n        }\n        if(isSuccess || user) {\n            toast.success(\"User Created Successfully\")\n            navigate('/')\n        }\n\n        dispatch(reset())\n    \n    }, [user, isError, isSuccess, message, dispatch, navigate])\n\n\n    return (\n        <>\n        <NavBar />\n        <Container className='form-container'>\n            <h1>Sign Up Form</h1>\n            <Form onSubmit={onSubmit} className='signup-form'>\n            <FormGroup>\n                    <Label for='username'>\n                        Username:\n                    </Label>\n                    <Input\n                        id='username'\n                        name='username'\n                        placeholder='Username'\n                        type='text'\n                        onChange={handleInputChange}\n                    />\n                </FormGroup> \n                <FormGroup>\n                    <Label for='firstName'>\n                        First Name:\n                    </Label>\n                    <Input\n                        id='firstName'\n                        name='firstName'\n                        placeholder='First Name'\n                        type='text'\n                        onChange={handleInputChange}\n                    />\n                </FormGroup>                \n                <FormGroup>\n                    <Label for='lastName'>\n                        Last Name:\n                    </Label>\n                    <Input\n                        id='lastName'\n                        name='lastName'\n                        placeholder='Last Name'\n                        type='text'\n                        onChange={handleInputChange}\n\n                    />     \n                </FormGroup>           \n                <FormGroup>\n                    <Label for='email'>\n                        Email:\n                    </Label>\n                    <Input\n                        id='email'\n                        name='email'\n                        placeholder='Email'\n                        type='text'\n                        onChange={handleInputChange}\n\n                    />\n                </FormGroup>\n                <FormGroup>\n                    <Label for='password1'>\n                        Password:\n                    </Label>\n                    <Input\n                        id='password'\n                        name='password'\n                        placeholder='Password'\n                        type='password'\n                        onChange={handleInputChange}\n\n                    />\n                </FormGroup>\n                <FormGroup>\n                    <Label for='password2'>\n                        Re-enter Password:\n                    </Label>\n                    <Input\n                        id='password2'\n                        name='password2'\n                        placeholder='Re-enter Password'\n                        type='password'\n                        onChange={handleInputChange}\n                    />\n                </FormGroup>\n                <FormGroup className='submit-button-div'>\n                    <Button className='submit-button'>\n                        Submit\n                    </Button>\n                </FormGroup>\n            \n            </Form>\n        </Container>\n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}